(function(t){function e(e){for(var i,r,o=e[0],l=e[1],c=e[2],u=0,m=[];u<o.length;u++)r=o[u],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&m.push(s[r][0]),s[r]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);d&&d(e);while(m.length)m.shift()();return n.push.apply(n,c||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],i=!0,o=1;o<a.length;o++){var l=a[o];0!==s[l]&&(i=!1)}i&&(n.splice(e--,1),t=r(r.s=a[0]))}return t}var i={},s={app:0},n=[];function r(e){if(i[e])return i[e].exports;var a=i[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=i,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(a,i,function(e){return t[e]}.bind(null,i));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var d=l;n.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"0508":function(t,e,a){},"0cda":function(t,e,a){},"1ae7":function(t,e,a){"use strict";var i=a("c4c6"),s=a.n(i);s.a},"2b56":function(t,e,a){"use strict";var i=a("fad1"),s=a.n(i);s.a},"2c8d":function(t,e,a){"use strict";var i=a("0cda"),s=a.n(i);s.a},"2dae":function(t,e,a){"use strict";var i=a("8e64"),s=a.n(i);s.a},"2e5f":function(t,e,a){"use strict";var i=a("ac2d"),s=a.n(i);s.a},"3b42":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("7f7f"),a("cadf"),a("551c"),a("f751"),a("097d");var i=a("2b0e"),s=a("bc3a"),n=a.n(s),r=a("ce5b"),o=a.n(r),l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("v-app",[t.$route.meta.isLogin?t._e():a("div",[t.checked?a("Navbar"):t._e(),a("Sidebar")],1),t.checked?a("v-container",{attrs:{fluid:""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("transition",{attrs:{name:"fade",mode:"out-in"}},[a("router-view")],1)],1)],1)],1):t._e(),a("v-container",{attrs:{fluid:""}},[a("v-progress-circular",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"progress-fix",attrs:{size:"70",width:"7",indeterminate:""}})],1),a("v-footer",{staticClass:"pa-3",attrs:{height:"8vh"}},[a("v-spacer"),a("v-flex",{attrs:{"py-3":"","text-xs-center":"",xs12:""}},[a("div",[t._v("Â© "+t._s((new Date).getFullYear()))])])],1)],1)],1)},c=[],d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-toolbar",[a("img",{staticClass:"sidebar-img",attrs:{src:this.appUrl+"logo-min.png",width:"40",height:"40"},on:{click:t.showSideBar}}),a("v-toolbar-title",[t._v(t._s(this.$route.meta.title))]),a("v-spacer"),a("v-avatar",{staticClass:"pr-4",attrs:{size:"20",color:"grey lighten-4"}},[a("img",{attrs:{src:this.appUrl+"account_circle_black.png",alt:"avatar"}})]),a("strong",[t._v(t._s(t.adminName))]),a("v-menu",{attrs:{bottom:"",left:""}},[a("v-btn",{attrs:{slot:"activator",icon:""},slot:"activator"},[a("v-icon",[t._v("expand_more")])],1),a("v-list",[a("v-list-tile",{staticClass:"tile",on:{click:t.configuration}},[a("v-list-tile-title",[t._v("Configuracion\n          "),a("v-icon",[t._v("build")])],1)],1),a("v-list-tile",{staticClass:"tile",on:{click:t.logout}},[a("v-list-tile-title",[t._v("Logout\n          "),a("v-icon",[t._v("exit_to_app")])],1)],1)],1)],1)],1)},u=[],m=new i["default"],v={methods:{logout:function(){var t=this;this.$store.dispatch("logout").then((function(){t.$router.push("/login")}))},configuration:function(){},showSideBar:function(){m.$emit("show-side-bar")}},computed:{appUrl:function(){return this.$store.state.appUrl},adminName:function(){return this.$store.state.user.name}}},p=v,f=(a("5dfc"),a("2877")),h=Object(f["a"])(p,d,u,!1,null,null,null),g=h.exports,b=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-navigation-drawer",{attrs:{absolute:"",temporary:"",persistent:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[a("v-list",{staticClass:"pa-1"},[a("v-list-tile",{attrs:{avatar:""}},[a("img",{attrs:{src:this.appUrl+"logo-min.png",width:"40",height:"40"}}),a("div",{staticClass:"v-toolbar__title"},[a("v-list-tile-content",[a("v-list-tile-title",{staticClass:"title"},[t._v(t._s(this.$route.meta.title))])],1)],1)])],1),a("v-list",{staticClass:"pt-0",attrs:{dense:""}},[a("v-divider"),t._l(t.items,(function(e){return a("v-list-tile",{key:e.title,staticClass:"pt-1 tile",attrs:{"active-class":"tile-active",to:e.link},on:{click:function(a){return t.isLoading(e.link)}}},[a("v-list-tile-action",[a("v-icon",[t._v(t._s(e.icon))])],1),a("v-list-tile-content",[a("v-list-tile-title",{staticClass:"subheading"},[t._v(t._s(e.title))])],1)],1)}))],2)],1)},x=[],_=(a("ac6a"),a("6b54"),{trunc:function(t,e,a){return t.substring(0,e)+a},capitalize:function(t){return t?(t=t.toString(),t.charAt(0).toUpperCase()+t.slice(1)):""}}),$={data:function(){return{drawer:null,items:[{title:"Dashboard",icon:"dashboard",link:"/dashboard"}]}},created:function(){var t=this,e=this.$store.state.user.sections;e.forEach((function(e){var a={};a.title=_.capitalize(e.name),a.link="/"+e.name,a.icon=e.icon,t.items.push(a)})),m.$on("show-side-bar",(function(){t.drawer=!t.drawer}))},methods:{isLoading:function(t){this.$store.commit("SET_LOADING",!0)}},computed:{appUrl:function(){return this.$store.state.appUrl}}},y=$,w=(a("2dae"),Object(f["a"])(y,b,x,!1,null,null,null)),k=w.exports,S={components:{Navbar:g,Sidebar:k},data:function(){return{checked:!1}},mounted:function(){var t=this;this.$store.commit("SET_LOADING",!0),this.$http.get("https://api.tresdear.es/api/admin/check").then((function(e){t.$store.commit("SET_LOADING",!1),t.checked=!0})).catch((function(e){t.$router.push("/login"),t.$store.commit("SET_LOADING",!1),t.checked=!0}))},computed:{loading:function(){return this.$store.getters.loading}}},A=S,E=(a("2c8d"),Object(f["a"])(A,l,c,!1,null,"10be199d",null)),C=E.exports,O=a("8c4f"),T=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"v-align"},[a("v-layout",{attrs:{row:"",wrap:"","align-center":"","justify-center":""}},[a("v-flex",{attrs:{xs10:"",lg6:"",md8:"","order-lg2":""}},[a("v-form",{ref:"form",attrs:{"lazy-validation":""}},[a("div",{staticClass:"text-field-padding"},[a("v-text-field",{attrs:{outline:"",label:"E-mail",rules:[t.rules.required]},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),a("v-text-field",{attrs:{outline:"",label:"Password",type:"password",rules:[t.rules.required,t.rules.min]},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.login(e)}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),a("div",{staticClass:"text-xs-right"},[a("v-btn",{attrs:{depressed:"",large:""},on:{click:t.login}},[a("span",{directives:[{name:"show",rawName:"v-show",value:!t.isLoading,expression:"!isLoading"}]},[t._v("Login")]),a("v-progress-circular",{directives:[{name:"show",rawName:"v-show",value:t.isLoading,expression:"isLoading"}],staticClass:"progress-fix",attrs:{size:"20",indeterminate:""}})],1)],1)])],1)],1)],1)},N=[],I={data:function(){return{email:"",password:"",isLoading:!1,rules:{required:function(t){return!!t||"Required"},min:function(t){return t.length>=8||"Min 8 characters"}}}},methods:{login:function(){var t=this,e=this.$refs.form.validate();if(e){this.isLoading=!0;var a=this.email,i=this.password;this.$store.dispatch("login",{email:a,password:i}).then((function(e){t.isLoading=!1,e.data.success?t.$router.push("/dashboard"):t.$toasted.show("Wrong email or password.",{theme:"bubble",type:"error",fitToScreen:!0,position:"top-right",duration:3e3})})).catch((function(e){t.isLoading=!1,t.$toasted.show("An error was ocurred.",{theme:"bubble",type:"error",position:"top-right",duration:3e3})}))}}}},M=I,D=(a("c5b7"),Object(f["a"])(M,T,N,!1,null,"43465a9f",null)),L=D.exports,j=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:{none:!t.isReady}},[a("h1",{staticClass:"pb-4"},[t._v("Dashboard")])])},q=[],G=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{"d-flex":"",xs12:"",md6:"","pa-2":""}},[a("v-layout",{attrs:{column:""}},[a("v-flex",[a("v-card",[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs2:"",sm1:""}},[a("v-card",{staticClass:"overlap-item"},[a("v-icon",{attrs:{size:"30"}},[t._v("show_chart")])],1)],1),a("v-flex",{attrs:{xs10:"",sm11:""}},[a("v-container",{attrs:{fluid:""}},[a("div",{attrs:{id:"last_visits"}})])],1)],1)],1)],1)],1)],1),a("v-flex",{attrs:{"d-flex":"",xs12:"",md6:"","pa-2":""}},[a("v-layout",{attrs:{column:""}},[a("v-flex",[a("v-card",[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs2:"",sm1:""}},[a("v-card",{staticClass:"overlap-item"},[a("v-icon",{attrs:{size:"30"}},[t._v("pie_chart")])],1)],1),a("v-flex",{attrs:{xs10:"",sm11:""}},[a("v-container",{attrs:{fluid:""}},[a("div",{attrs:{id:"top_browsers"}})])],1)],1)],1)],1)],1)],1),a("v-flex",{attrs:{"d-flex":"",xs12:"",sm6:"",md3:"","pa-2":""}},[a("v-layout",{attrs:{column:""}},[a("v-flex",{attrs:{"d-flex":""}},[a("v-card",[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs2:""}},[a("v-card",{staticClass:"overlap-item"},[a("v-icon",{attrs:{size:"30"}},[t._v("people")])],1)],1),a("v-flex",{attrs:{xs10:""}},[a("v-card-text",{staticClass:"px-0"},[a("p",{staticClass:"text-md-center"}),a("h4",{staticClass:"headline"},[t._v(t._s(t.user_types[0]?t.user_types[0].type:0))]),a("div",[t._v(" "+t._s(t.user_types[0]?t.user_types[0].sessions:0)+" ")]),a("p")])],1)],1)],1)],1)],1)],1),a("v-flex",{attrs:{"d-flex":"",xs12:"",sm6:"",md3:"","pa-2":""}},[a("v-layout",{attrs:{column:""}},[a("v-flex",{attrs:{"d-flex":""}},[a("v-card",[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs2:""}},[a("v-card",{staticClass:"overlap-item"},[a("v-icon",{attrs:{size:"30"}},[t._v("repeat")])],1)],1),a("v-flex",{attrs:{xs10:""}},[a("v-card-text",{staticClass:"px-0"},[a("p",{staticClass:"text-md-center"}),a("h4",{staticClass:"headline"},[t._v(t._s(t.user_types[1]?t.user_types[1].type:0))]),a("div",[t._v(" "+t._s(t.user_types[1]?t.user_types[1].sessions:0)+" ")]),a("p")])],1)],1)],1)],1)],1)],1),a("v-flex",{attrs:{"d-flex":"",xs12:"",sm6:"",md3:"","pa-2":""}},[a("v-layout",{attrs:{column:""}},[a("v-flex",{attrs:{"d-flex":""}},[a("v-card",[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs2:""}},[a("v-card",{staticClass:"overlap-item"},[a("v-icon",{attrs:{size:"30"}},[t._v("repeat")])],1)],1),a("v-flex",{attrs:{xs10:""}},[a("v-card-text",{staticClass:"px-0"},[a("p",{staticClass:"text-md-center"}),a("h4",{staticClass:"headline"},[t._v("Entrances")]),a("div",[t._v(" "+t._s(t.entrances)+" ")]),a("p")])],1)],1)],1)],1)],1)],1),a("v-flex",{attrs:{"d-flex":"",xs12:"",md6:"","pa-2":""}},[a("v-layout",{attrs:{column:""}},[a("v-flex",[a("v-card",[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-container",{attrs:{fluid:""}},[a("div",{staticStyle:{display:"flex","justify-content":"center"},attrs:{id:"countries_map"}})])],1)],1)],1)],1)],1)],1)],1)},F=[],B=(a("28a5"),{data:function(){return{user_types:[],avg_session:"",entrances:""}},created:function(){var t=this;this.$store.commit("SET_LOADING",!0),this.$http.get(this.baseUrl+"analytics").then((function(e){t.user_types=e.data.data.user_types,t.avg_session=Math.round(e.data.data.avg_session_duration.totalsForAllResults["ga:avgSessionDuration"])+" seconds",t.entrances=e.data.data.entrances.totalsForAllResults["ga:entrances"];var a=e.data.data.top_browsers,i=e.data.data.total_visitors_page_views,s=[],n=[],r=e.data.data.users_country.rows;i.forEach((function(t,e){var a=t.date.split("T")[0].split("-")[2];s.push([a,t.visitors])})),n.push(["Language","Speakers (in millions)"]),a.forEach((function(t,e){n.push([t.browser,t.sessions])})),new Promise((function(t,e){function a(){var t=new google.visualization.DataTable;t.addColumn("string","Days"),t.addColumn("number","Visits"),t.addRows(s);var e={chart:{title:"Visits on last 30 days",subtitle:""},hAxis:{title:"Days",logScale:!0},vAxis:{title:"Quantity",logScale:!1}},a=new google.charts.Line(document.getElementById("last_visits"));a.draw(t,google.charts.Line.convertOptions(e))}function i(){var e=google.visualization.arrayToDataTable(n),a={pieStartAngle:100,chartArea:{width:300,height:170}},i=new google.visualization.PieChart(document.getElementById("top_browsers"));i.draw(e,a),t()}function o(){var t=new google.visualization.GeoChart(document.getElementById("countries_map")),e=google.visualization.arrayToDataTable(r);t.draw(e,{width:400,height:250})}google.charts.load("current",{packages:["line","corechart"]}),google.charts.setOnLoadCallback(a),google.charts.setOnLoadCallback(i),google.charts.setOnLoadCallback(o)})).then((function(){m.$emit("analytics-ready"),t.$store.commit("SET_LOADING",!1)}))}))},computed:{baseUrl:function(){return this.$store.getters.baseUrl}}}),U=B,P=(a("2e5f"),Object(f["a"])(U,G,F,!1,null,null,null)),R=P.exports,z={components:{Analytics:R},data:function(){return{isReady:!1}},created:function(){this.$store.commit("SET_LOADING",!1)},computed:{loading:function(){return this.$store.getters.loading}}},K=z,H=(a("2b56"),Object(f["a"])(K,j,q,!1,null,null,null)),J=H.exports,Z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"show",rawName:"v-show",value:!t.loading,expression:"!loading"}]},[a("Actionbar",{attrs:{component:t.section}}),a("v-layout",{attrs:{row:"","pa-2":""}},[a("v-flex",[a("Table",{attrs:{headers:t.headers}})],1)],1)],1)},W=[],V=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{row:"","pa-2":""}},[a("v-flex",{attrs:{xs12:""}},[a("div",{staticClass:"text-sm-left text-xs-left"},[a("v-tooltip",{attrs:{bottom:""}},[a("v-btn",{staticClass:"caption",attrs:{slot:"activator",color:"primary",dark:"",medium:"",icon:"",flat:""},on:{click:t.goBack},slot:"activator"},[a("v-icon",{staticClass:"fix-padding-btn"},[t._v("arrow_back")])],1),t._v("\n                Back\n            ")],1),a("v-tooltip",{attrs:{bottom:""}},[this.addDisabled?t._e():a("v-btn",{staticClass:"caption",attrs:{slot:"activator",color:"primary",dark:"",medium:"",icon:"",flat:""},on:{click:t.formNew},slot:"activator"},[a("v-icon",{staticClass:"fix-padding-btn"},[t._v("add")])],1),t._v("\n                Add New\n            ")],1),a("v-tooltip",{attrs:{bottom:""}},[this.orderChanged?a("v-btn",{staticClass:"caption",attrs:{slot:"activator",color:"primary",dark:"",medium:"",icon:"",flat:""},on:{click:t.saveOrder},slot:"activator"},[a("v-icon",{staticClass:"fix-padding-btn"},[t._v("reorder")])],1):t._e(),t._v("\n                Save Order\n            ")],1),a("v-tooltip",{attrs:{bottom:""}},[this.activeMany?a("v-btn",{staticClass:"caption",attrs:{slot:"activator",color:"primary",dark:"",medium:"",icon:"",flat:""},on:{click:t.applyActiveMany},slot:"activator"},[a("v-icon",{staticClass:"fix-padding-btn"},[t._v("check")])],1):t._e(),t._v("        \n                Active Selected\n            ")],1),a("v-tooltip",{attrs:{bottom:""}},[this.disableMany?a("v-btn",{staticClass:"caption",attrs:{slot:"activator",color:"primary",dark:"",medium:"",icon:"",flat:""},on:{click:t.applyDisableMany},slot:"activator"},[a("v-icon",{staticClass:"fix-padding-btn"},[t._v("close")])],1):t._e(),t._v("\n                Disable Selected\n            ")],1),a("v-tooltip",{attrs:{bottom:""}},[this.removeMany?a("v-btn",{staticClass:"caption",attrs:{slot:"activator",color:"primary",dark:"",medium:"",icon:"",flat:""},on:{click:t.applyRemoveMany},slot:"activator"},[a("v-icon",{staticClass:"fix-padding-btn"},[t._v("delete")])],1):t._e(),t._v("\n                Remove Selected\n            ")],1)],1)])],1)},Y=[],Q={data:function(){return{addDisabled:!1,orderChanged:!1,inBlockAction:!1,removeMany:!1,disableMany:!1,activeMany:!1}},props:{component:String},created:function(){var t=this;m.$on("order-changed",(function(){t.orderChanged=!0})),m.$on("active-operations-in-block-action",(function(){t.removeMany=!0,t.activeMany=!0,t.disableMany=!0})),m.$on("disable-operations-in-block-action",(function(){t.removeMany=!1,t.activeMany=!1,t.disableMany=!1}))},methods:{formNew:function(){this.$store.commit("SET_LOADING",!0),m.$emit("form-new",this.component)},inBlockActionToggle:function(){this.addDisabled=!0,this.orderChanged=!1,m.$emit("in-block-action")},saveOrder:function(){this.$store.commit("SET_LOADING",!0),m.$emit("save-order",this.component)},applyRemoveMany:function(){this.$store.commit("SET_LOADING",!0),m.$emit("remove-many",this.component)},applyActiveMany:function(){this.$store.commit("SET_LOADING",!0),m.$emit("active-many",this.component)},applyDisableMany:function(){this.$store.commit("SET_LOADING",!0),m.$emit("disable-many",this.component)},goBack:function(){this.$router.go(-1)}}},X=Q,tt=(a("f3e2"),Object(f["a"])(X,V,Y,!1,null,"e31b0144",null)),et=tt.exports,at=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-card-title",[a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),a("v-data-table",{ref:"sortableTable",attrs:{headers:t.headers,items:t.items,search:t.search,pagination:t.pagination,"custom-filter":t.filter,"disable-initial-sort":""},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"items",fn:function(e){return[a("tr",{key:e.item.id,staticClass:"sortableRow",on:{mouseover:t.onMouseOverRow,mouseleave:t.onMouseLeaveRow}},t._l(t.headers,(function(i,s){return a("td",{key:s,class:[t.headerLeft(i),"drag_check"==i.value?"pl-0":""]},["drag_check"==i.value?a("div",{staticClass:"d-flex"},[a("div",{staticClass:"sortHandle",staticStyle:{cursor:"move"},attrs:{icon:""}},[a("v-icon",[t._v("drag_indicator")])],1),a("v-checkbox",{attrs:{primary:"","hide-details":"","input-value":e.item.selected},on:{change:function(a){e.item.selected=t.toggle(e)}}})],1):"media"==i.value?a("div",[a("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(i){var s=i.on;return[e.item.thumb?a("div",t._g({},s),[a("img",{attrs:{src:e.item.thumb.full_url,height:"24",width:"24"}})]):a("div",t._g({},s),[a("img",{attrs:{src:t.storageUrl+"thumb_default.png",height:"24",width:"24"}})])]}}],null,!0)},[a("span",[e.item.thumb?a("div",[a("img",{attrs:{src:e.item.thumb.full_url,height:"65",width:"65"}})]):a("div",[a("img",{attrs:{src:t.storageUrl+"thumb_default.png",height:"65",width:"65"}})])])])],1):"active"==i.value?a("div",[e.item.active?a("v-icon",[t._v("check_circle_outline")]):a("v-icon",[t._v("highlight_off")])],1):"highlighted"==i.value?a("div",[e.item.highlighted?a("v-icon",[t._v("check_circle_outline")]):a("v-icon",[t._v("highlight_off")])],1):"actions"==i.value?a("div",{staticClass:"actions"},[a("v-tooltip",{attrs:{bottom:""}},[a("v-btn",{attrs:{slot:"activator",color:"primary",dark:"",small:"",icon:"",flat:""},on:{click:function(a){return t.editItem(e.item)}},slot:"activator"},[a("v-icon",{attrs:{small:""}},[t._v("\n                                    edit\n                                ")])],1),t._v("\n                            Edit this\n                        ")],1),a("v-tooltip",{attrs:{bottom:""}},[a("v-btn",{attrs:{slot:"activator",color:"primary",dark:"",small:"",icon:"",flat:""},on:{click:function(a){return t.removeItem(e.item)}},slot:"activator"},[a("v-icon",{attrs:{small:""}},[t._v("\n                                    delete\n                                ")])],1),t._v("\n                            Remove this\n                        ")],1)],1):a("div",[i.relation&&i.type?a("div",["belongsTo"==i.type?a("div",[t._v("\n                                "+t._s(e.item[i.relation].name)+"\n                            ")]):a("div",[t._v("\n                                "+t._s(e.item[i.relation])+"\n                            ")])]):a("div",[t._v("\n                            "+t._s(e.item[i.value])+"\n                        ")])])])})),0)]}}])},[a("v-alert",{attrs:{slot:"no-results",value:!0,color:"error",icon:"warning"},slot:"no-results"},[t._v('\n            Your search for "'+t._s(t.search)+'" found no results.\n        ')])],1)],1)},it=[],st=(a("456d"),a("a481"),a("1c4c"),a("386d"),a("5df3"),a("10ad"),a("aa47")),nt=(a("5118"),a("3022"),{props:{headers:Array},data:function(){return{pagination:{},renderCount:1,tableReady:!1,section:this.$route.meta.section,search:"",items:[],inBlockActionSelected:[],reorderedItems:[],itemKeys:new WeakMap,currentItemKey:0,isActiveInBlockAction:!1}},created:function(){var t=this;if(this.$route.query.sortBy){var e=this.$route.query.sortBy.split("_");this.pagination.sortBy=e[0],this.pagination.descending="desc"==e[1]}this.$route.query.search&&(this.search=this.$route.query.search),this.$store.commit("SET_LOADING",!0),this.$http.get(this.url,{params:{parent:this.user.email}}).then((function(e){var a=e.data;a.success&&(t.items=a.data[t.section]),t.$store.commit("SET_LOADING",!1)})),m.$off("form-new").$once("form-new",(function(e){e&&e==t.section&&t.$router.push(t.section+"/new")})),m.$off("save-order").$on("save-order",(function(e){if(e&&e==t.section){var a=t.items;t.reorderedItems.length&&(a=t.reorderedItems),t.$http.post(t.url+"/save-order",{items:a.map((function(t){return t.id}))}).then((function(e){e.data;t.$store.commit("SET_LOADING",!1)}))}})),m.$off("remove-many").$on("remove-many",(function(e){if(e&&e==t.section){for(var a=t.inBlockActionSelected,i=0;i<a.length;i++)for(var s=!1,n=0;n<t.items.length&&!s;n++)t.items[n].id==a[i].id&&(s=!0,t.items.splice(n,1));t.$http.post(t.url+"/remove-many",{items:a.map((function(t){return t.id}))}).then((function(e){e.data;t.$store.commit("SET_LOADING",!1)}))}})),m.$off("active-many").$on("active-many",(function(e){if(e&&e==t.section){var a=t.inBlockActionSelected;t.$http.post(t.url+"/active-many",{items:a.map((function(t){return t.id})),active:1}).then((function(e){e.data;t.$store.commit("SET_LOADING",!1)}))}})),m.$off("disable-many").$on("disable-many",(function(e){if(e&&e==t.section){var a=t.inBlockActionSelected;t.$http.post(t.url+"/active-many",{items:a.map((function(t){return t.id})),active:0}).then((function(e){e.data;t.$store.commit("SET_LOADING",!1)}))}}))},mounted:function(){Array.from(document.getElementsByClassName("clickable")).forEach((function(t){t.addEventListener("click",(function(){m.$emit("order-changed")}))})),new st["a"](this.$refs.sortableTable.$el.getElementsByTagName("tbody")[0],{draggable:".sortableRow",handle:".sortHandle",onEnd:this.dragReorder})},updated:function(){this.tableReady?this.pagination.sortBy?this.$router.replace({query:{search:this.search,page:this.pagination.page,perPage:this.pagination.rowsPerPage,sortBy:(this.pagination.sortBy?this.pagination.sortBy:"null")+"_"+(this.pagination.descending?"desc":"asc")}}):this.$router.replace({query:{search:this.search,page:this.pagination.page,perPage:this.pagination.rowsPerPage}}):this.renderCount>0?this.renderCount--:(this.tableReady=!0,this.$route.query.page&&(this.pagination.page=parseInt(this.$route.query.page)),this.$route.query.perPage&&(this.pagination.rowsPerPage=parseInt(this.$route.query.perPage)))},methods:{onMouseOverRow:function(t){t.target.closest("tr").querySelector(".actions").classList.remove("d-none-actions")},onMouseLeaveRow:function(t){t.target.closest("tr").querySelector(".actions").classList.add("d-none-actions")},editItem:function(t){this.$router.push(this.section+"/edit/"+t.id)},removeItem:function(t){var e=this;this.$http.post(this.url+"/remove/"+t.id).then((function(a){a.data;for(var i=!1,s=0;s<e.items.length&&!i;s++)e.items[s].id==t.id&&(i=!0,e.items.splice(s,1));e.$store.commit("SET_LOADING",!1)}))},dragReorder:function(t){var e=t.oldIndex,a=t.newIndex;t.item;m.$emit("order-changed");var i=this.items.splice(e,1)[0];this.items.splice(a,0,i),this.items[a].changed=!0},itemKey:function(t){return this.itemKeys.has(t)||this.itemKeys.set(t,++this.currentItemKey),this.itemKeys.get(t)},headerLeft:function(t){return"id"==t.value?"text-xs-left":""},filter:function(t,e,a){e=e.toString().toLowerCase();var i=t.filter((function(t){return Object.keys(t).some((function(i){return a(t[i],e)}))}));return this.reorderedItems=i,i},toggle:function(t){for(var e=!1,a=0;a<this.inBlockActionSelected.length;a++)this.inBlockActionSelected[a].id==t.item.id&&(e=!0,this.inBlockActionSelected.splice(a,1));return e||this.inBlockActionSelected.push(t.item),void 0==t.item.selected||!t.item.selected}},watch:{inBlockActionSelected:function(){this.inBlockActionSelected.length?m.$emit("active-operations-in-block-action"):m.$emit("disable-operations-in-block-action")}},computed:{url:function(){return this.$store.getters.baseUrl+this.$route.meta.section},storageUrl:function(){return this.$store.getters.storageUrl},user:function(){return this.$store.state.user}}}),rt=nt,ot=(a("69de"),Object(f["a"])(rt,at,it,!1,null,null,null)),lt=ot.exports,ct={components:{Actionbar:et,Table:lt},data:function(){return{headers:[{text:"Id",align:"left",value:"id"},{text:"Name",align:"middle",value:"name"},{text:"Email",align:"middle",value:"email"},{text:"Type",align:"middle",value:"types_id"},{text:"Active",align:"middle",value:"active"},{text:"",align:"middle",value:"actions",sortable:!1,width:"5%"}],section:this.$route.meta.section}},computed:{loading:function(){return this.$store.getters.loading}}},dt=ct,ut=Object(f["a"])(dt,Z,W,!1,null,null,null),mt=ut.exports,vt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Form",{attrs:{component:"FormAdministradores"}})],1)},pt=[],ft=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:""}},[a(t.component,{tag:"component"})],1)],1)},ht=[],gt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"show",rawName:"v-show",value:!t.loading,expression:"!loading"}]},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:""}},[a("div",{staticClass:"text-xs-left"},[a("v-btn",{attrs:{color:"primary",dark:"",medium:"",icon:"",flat:""},on:{click:t.goBack}},[a("v-icon",[t._v("arrow_back")])],1),"new-project"==t.$route.name?a("v-btn",{attrs:{color:"primary",dark:"",medium:"",icon:"",flat:""},on:{click:t.save}},[a("v-icon",[t._v("\n                        done\n                    ")])],1):a("v-btn",{attrs:{color:"primary",dark:"",medium:"",icon:"",flat:""},on:{click:t.update}},[a("v-icon",[t._v("\n                        done\n                    ")])],1)],1)])],1),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{"d-flex":"",xs12:"",sm12:"",md8:"",lg7:"","pa-4":""}},[a("v-layout",{attrs:{column:""}},[a("v-form",{ref:"form"},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-layout",{attrs:{column:""}},[a("v-text-field",{attrs:{label:"Name","data-vv-name":"name",outline:"",rules:t.rules.name},model:{value:t.project.name,callback:function(e){t.$set(t.project,"name",e)},expression:"project.name"}})],1)],1)],1),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-layout",{attrs:{column:""}},[a("v-textarea",{attrs:{label:"Description","data-vv-name":"description",outline:"",rules:t.rules.description},model:{value:t.project.description,callback:function(e){t.$set(t.project,"description",e)},expression:"project.description"}})],1)],1)],1),a("v-layout",{attrs:{row:"","pb-4":""}},[a("v-flex",{attrs:{xs12:""}},[a("v-layout",{attrs:{column:""}},[t.renderComponents?a("quill-editor",{ref:"myTextEditor",attrs:{options:t.quill.editorOption},on:{change:function(e){return t.onEditorChange(e)},ready:function(e){return t.onEditorReady(e)}},model:{value:t.quill.content,callback:function(e){t.$set(t.quill,"content",e)},expression:"quill.content"}}):t._e()],1)],1)],1),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-layout",{attrs:{column:""}},[a("v-text-field",{attrs:{label:"Link-Tour","data-vv-name":"link",outline:"",rules:t.rules.link},model:{value:t.project.link,callback:function(e){t.$set(t.project,"link",e)},expression:"project.link"}})],1)],1)],1),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs4:""}},[a("v-layout",{attrs:{column:""}},[a("v-checkbox",{attrs:{label:"Active","data-vv-name":"active",type:"checkbox"},model:{value:t.project.active,callback:function(e){t.$set(t.project,"active",e)},expression:"project.active"}})],1)],1),a("v-flex",{attrs:{xs4:""}},[a("v-layout",{attrs:{column:""}},[a("v-checkbox",{attrs:{label:"Highlighted","data-vv-name":"highlighted",type:"checkbox"},model:{value:t.project.highlighted,callback:function(e){t.$set(t.project,"highlighted",e)},expression:"project.highlighted"}})],1)],1)],1)],1)],1)],1),a("v-flex",{attrs:{"d-flex":"",xs12:"",sm12:"",md4:"",lg5:"","pa-4":""}},[a("v-layout",{attrs:{column:""}},[t.renderComponents?a("MediasManager",{ref:"thumbnail",attrs:{label:"Thumbnail",limit:1,existingMedia:t.project.medias.thumbnail?t.project.medias.thumbnail.thumb:[]}}):t._e(),t.renderComponents?a("MediasManager",{ref:"breadcrumb",attrs:{label:"Breadcrumb",limit:5,existingMedia:t.project.medias.breadcrumb?t.project.medias.breadcrumb.thumb:[]}}):t._e()],1)],1)],1)],1)},bt=[],xt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.forceReload?t._e():a("div",[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:""}},[t.limit?a("div",[a("div",{staticClass:"text-sm-left"},[a("v-layout",{attrs:{row:"","align-center":""}},[a("h2",[t._v(t._s(t.label||""))]),t.totalMedias<t.limit?a("v-btn",{attrs:{flat:"",icon:""},on:{click:t.triggerInputFiles}},[a("v-icon",[t._v("\n                                backup\n                            ")])],1):t._e()],1),a("input",{ref:"file",staticStyle:{display:"none"},attrs:{type:"file",multiple:"multiple",id:"medias"},on:{change:t.uploadFieldChange}})],1)]):a("div",[a("div",{staticClass:"text-sm-left"},[a("v-layout",{attrs:{row:"","align-center":""}},[a("h2",[t._v(t._s(t.label||""))]),a("v-btn",{attrs:{flat:"",icon:""},on:{click:t.triggerInputFiles}},[a("v-icon",[t._v("\n                                backup\n                            ")])],1)],1),a("input",{ref:"file",staticStyle:{display:"none"},attrs:{type:"file",multiple:"multiple",id:"medias"},on:{change:t.uploadFieldChange}})],1)])])],1),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:""}},[t._l(this.existingMedia,(function(e,i){return a("div",{key:i},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:""}},[a("div",{staticClass:"text-sm-left"},[a("img",{staticClass:"img-thumbnail",attrs:{src:e.full_url,alt:e.filename+" ("+Number((e.size/1024/1024).toFixed(1))+"MB)"}}),a("strong",[a("span",{staticClass:"label label-primary"},[t._v(t._s(t._f("trunc")(e.filename,25,"...")))])]),a("span",{staticStyle:{cursor:"pointer"},on:{click:function(a){return t.removeExistingAttachment(e)}}},[a("v-btn",{attrs:{flat:"",icon:"",color:"black"}},[a("v-icon",[t._v("remove")])],1)],1)])])],1)],1)})),t._l(t.medias,(function(e,i){return a("div",{key:i},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:""}},[a("div",{staticClass:"text-sm-left"},[a("img",{staticClass:"img-thumbnail",attrs:{src:e.url,alt:e.name+" ("+Number((e.size/1024/1024).toFixed(1))+"MB)"}}),a("strong",[a("span",{staticClass:"label label-primary"},[t._v(t._s(t._f("trunc")(e.name,25,"...")))])]),a("span",{staticStyle:{cursor:"pointer"},on:{click:function(a){return t.removeAttachment(e)}}},[a("v-btn",{attrs:{flat:"",icon:"",color:"black"}},[a("v-icon",[t._v("remove")])],1)],1)])])],1)],1)}))],2)],1)],1)},_t=[],$t=(a("c5f6"),{props:{existingMedia:Array,limit:Number,label:String},data:function(){return{medias:[],totalMedias:0,forceReload:!1}},created:function(){this.totalMedias=this.existingMedia.length+this.medias.length},methods:{uploadFieldChange:function(t){var e=t.target.files||t.dataTransfer.files;if(e.length){for(var a=e.length-1;a>=0;a--)e[a].url=URL.createObjectURL(e[a]),this.medias.push(e[a]);document.getElementById("medias").value=[]}},removeAttachment:function(t){this.medias.splice(this.medias.indexOf(t),1)},triggerInputFiles:function(){this.$refs.file.click()},removeExistingAttachment:function(t){m.$emit("medias-remove",t),this.existingMedia.splice(this.existingMedia.indexOf(t),1),this.totalMedias=this.existingMedia.length+this.medias.length,this.forceReload=!0,this.forceReload=!1}},watch:{existingMedia:function(){this.totalMedias=this.existingMedia.length+this.medias.length},medias:function(){this.totalMedias=this.existingMedia.length+this.medias.length}}}),yt=$t,wt=(a("1ae7"),Object(f["a"])(yt,xt,_t,!1,null,null,null)),kt=wt.exports,St={components:{MediasManager:kt},props:{component:String},data:function(){return{project:{name:"",description:"",description_quill:null,categories_id:null,subcategories:[],link:"",active:!0,highlighted:!1,medias:[]},renderComponents:!1,totalCustomComponents:0,quill:{content:"",editorOption:{modules:{toolbar:[["link"],["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{font:[]}],[{color:[]},{background:[]}],[{align:[]}],["clean"]],syntax:{highlight:function(t){return hljs.highlightAuto(t).value}}}}},rules:{name:[function(t){return!!t||"Name is required"},function(t){return t&&t.length<=15||"Name must be less than 15"}],description:[function(t){return!!t||"Description is required"},function(t){return t&&t.length<=140||"Description must be less than 140"}],link:[function(t){return!!t||"Link-Tour is required"},function(t){if(t){var e=/(http(s)?:\/\/.)?(www\.)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/g;return e.test(t)||"Invalid url."}return!0}]}}},created:function(){var t=this;this.$store.commit("SET_LOADING",!0),m.$on("medias-remove",(function(e){t.removeMedia(e)})),m.$once("elem-fetched",(function(e){t.project=e.project,t.renderComponents=!0,t.$store.commit("SET_LOADING",!1)})),this.$route.params.id&&m.$emit("get",this.$route.params.id),"new-project"==this.$route.name&&(this.renderComponents=!0,this.$store.commit("SET_LOADING",!1))},methods:{save:function(){if(this.$store.commit("SET_LOADING",!0),this.$refs.form.validate()){var t=this.project,e=new FormData;for(var a in t)e.append(a,t[a]);this.$refs.thumbnail.medias.length&&this.$refs.thumbnail.medias.forEach((function(t){e.append("thumbnail[]",t)})),this.$refs.breadcrumb.medias.length&&this.$refs.breadcrumb.medias.forEach((function(t){e.append("breadcrumb[]",t)})),m.$emit("save",e)}else this.$store.commit("SET_LOADING",!1)},update:function(){if(this.$store.commit("SET_LOADING",!0),this.$refs.form.validate()){var t=this.project,e=new FormData;for(var a in t)e.append(a,t[a]);this.$refs.thumbnail.medias.length&&this.$refs.thumbnail.medias.forEach((function(t){e.append("thumbnail[]",t)})),this.$refs.breadcrumb.medias.length&&this.$refs.breadcrumb.medias.forEach((function(t){e.append("breadcrumb[]",t)})),m.$emit("update",e)}else this.$store.commit("SET_LOADING",!1)},removeMedia:function(t){var e=new FormData;e.append("media_id",t.id),m.$emit("removeMedia",e)},goBack:function(){this.$router.go(-1)},onEditorReady:function(t){this.project.description_quill&&t.setContents(JSON.parse(this.project.description_quill))},onEditorChange:function(t){var e=t.quill,a=t.html;t.text;this.project.description_quill=JSON.stringify(e.getContents()),this.quill.content=a}},computed:{loading:function(){return this.$store.getters.loading}}},At=St,Et=(a("6a40"),Object(f["a"])(At,gt,bt,!1,null,null,null)),Ct=Et.exports,Ot=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"show",rawName:"v-show",value:!t.loading,expression:"!loading"}]},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:""}},[a("div",{staticClass:"text-xs-left"},[a("v-btn",{attrs:{color:"primary",dark:"",medium:"",icon:"",flat:""},on:{click:t.goBack}},[a("v-icon",[t._v("arrow_back")])],1),"new-admin"==t.$route.name?a("v-btn",{attrs:{color:"primary",dark:"",medium:"",icon:"",flat:""},on:{click:t.save}},[a("v-icon",[t._v("\n                        done\n                    ")])],1):a("v-btn",{attrs:{color:"primary",dark:"",medium:"",icon:"",flat:""},on:{click:t.update}},[a("v-icon",[t._v("\n                        done\n                    ")])],1)],1)])],1),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{"d-flex":"",xs12:"",sm12:"",md8:"",lg7:"","pa-4":""}},[a("v-layout",{attrs:{column:""}},[a("v-form",{ref:"form"},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-layout",{attrs:{column:""}},[a("v-text-field",{attrs:{label:"Name","data-vv-name":"name",rules:t.rules.name,outline:""},model:{value:t.admin.name,callback:function(e){t.$set(t.admin,"name",e)},expression:"admin.name"}})],1)],1)],1),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-layout",{attrs:{column:""}},[a("v-text-field",{attrs:{label:"Email","data-vv-name":"email",rules:t.rules.email,outline:""},model:{value:t.admin.email,callback:function(e){t.$set(t.admin,"email",e)},expression:"admin.email"}})],1)],1)],1),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-layout",{attrs:{column:""}},["edit-admin"==t.$route.name?a("v-text-field",{attrs:{label:"Password","data-vv-name":"password",type:"password",outline:""},model:{value:t.admin.password,callback:function(e){t.$set(t.admin,"password",e)},expression:"admin.password"}}):a("v-text-field",{attrs:{label:"Password","data-vv-name":"password",type:"password",rules:t.rules.password,outline:""},model:{value:t.admin.password,callback:function(e){t.$set(t.admin,"password",e)},expression:"admin.password"}})],1)],1)],1),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-layout",{attrs:{column:""}},["edit-admin"==t.$route.name?a("v-text-field",{attrs:{label:"Confirm Password","data-vv-name":"c_password",type:"password",outline:""},model:{value:t.admin.c_password,callback:function(e){t.$set(t.admin,"c_password",e)},expression:"admin.c_password"}}):a("v-text-field",{attrs:{label:"Confirm Password","data-vv-name":"c_password",type:"password",rules:t.rules.password,outline:""},model:{value:t.admin.c_password,callback:function(e){t.$set(t.admin,"c_password",e)},expression:"admin.c_password"}})],1)],1)],1),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-layout",{attrs:{column:""}},[t.renderSelects?a("SelectSimple",{attrs:{label:"Admin Type",url:t.adminsTypes_url,section:"adminsTypes",selectedItem:t.admin.types_id,required:!0}}):t._e()],1)],1)],1),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-layout",{attrs:{column:""}},[t.renderSelects?a("SelectMultiple",{attrs:{label:"Sections",url:t.sections_url,section:"sections",itemsSelected:t.admin.sections}}):t._e()],1)],1)],1),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs4:""}},[a("v-layout",{attrs:{column:""}},[a("v-checkbox",{attrs:{label:"Active","data-vv-name":"active",type:"checkbox",required:"",outline:""},model:{value:t.admin.active,callback:function(e){t.$set(t.admin,"active",e)},expression:"admin.active"}})],1)],1)],1)],1)],1)],1)],1)],1)},Tt=[],Nt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-select",{attrs:{items:t.items,"item-text":"name","item-value":"id",label:this.label,box:"",chips:"",multiple:"",outline:""},on:{change:t.selectChanged},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})},It=[],Mt={props:{url:String,section:String,label:String,itemsSelected:Array,parentSelected:Number,listen:String,listenUrl:String},data:function(){return{selected:[],items:[]}},created:function(){var t=this;if(this.listen){var e={};e[this.listen]=this.parentSelected,this.$http.get(this.url,{params:e}).then((function(e){var a=e.data;a.success?(t.items=a.data[t.section],t.itemsSelected.length>0&&(t.selected=t.itemsSelected),m.$emit("component-rendered")):m.$emit("component-rendered")})),m.$on(this.listen+"-select-changed",(function(e){var a={};a[t.listen]=e,t.$http.get(t.url,{params:a}).then((function(e){var a=e.data;a.success?(t.items=a.data[t.section],t.itemsSelected>0&&(t.selected=t.itemsSelected),m.$emit("component-rendered")):m.$emit("component-rendered")}))}))}else this.$http.get(this.url).then((function(e){var a=e.data;a.success?(t.items=a.data[t.section],t.itemsSelected.length>0&&(t.selected=t.itemsSelected),m.$emit("component-rendered")):m.$emit("component-rendered")}))},methods:{selectChanged:function(){m.$emit(this.section+"-select-changed",this.selected)}}},Dt=Mt,Lt=Object(f["a"])(Dt,Nt,It,!1,null,null,null),jt=Lt.exports,qt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-select",{ref:"select",attrs:{rules:t.required?t.ruleRequired:void 0,items:t.items,"item-text":"name","item-value":"id",label:this.label,box:"",outline:""},on:{change:t.selectChanged},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})},Gt=[],Ft={props:{url:String,section:String,label:String,selectedItem:Number,required:Boolean},data:function(){var t=this;return{selected:void 0,items:[],ruleRequired:[function(e){return!!e||t.label+" is required"}]}},created:function(){var t=this;this.$http.get(this.url).then((function(e){var a=e.data;a.success?(t.items=a.data[t.section],t.selectedItem&&(t.selected=t.selectedItem),m.$emit("component-rendered")):m.$emit("component-rendered")}))},methods:{selectChanged:function(){m.$emit(this.section+"-select-changed",this.selected)}}},Bt=Ft,Ut=Object(f["a"])(Bt,qt,Gt,!1,null,null,null),Pt=Ut.exports,Rt={components:{SelectMultiple:jt,SelectSimple:Pt},props:{component:String},data:function(){return{admin:{name:"",email:"",password:"",c_password:"",active:!0,types_id:null,sections:[],parent:this.$store.state.user.email},renderSelects:!1,totalCustomComponents:2,rules:{name:[function(t){return!!t||"Name is required"}],email:[function(t){return!!t||"Email is required"}],password:[function(t){return!!t||"Password is required"}]}}},created:function(){var t=this;this.$store.commit("SET_LOADING",!0),m.$on("component-rendered",(function(){t.totalCustomComponents--,0==t.totalCustomComponents&&t.$store.commit("SET_LOADING",!1)})),m.$once("elem-fetched",(function(e){var a=[];e.admin.sections.forEach((function(t){a.push(t.id)})),e.admin.sections=a,t.admin=e.admin,t.admin.parent=t.user.email,t.renderSelects=!0})),m.$on("adminsTypes-select-changed",(function(e){t.admin.types_id=e})),m.$on("sections-select-changed",(function(e){t.admin.sections=e})),this.$route.params.id&&m.$emit("get",this.$route.params.id),"new-admin"==this.$route.name&&(this.renderSelects=!0,this.$store.commit("SET_LOADING",!1))},methods:{save:function(){if(this.$store.commit("SET_LOADING",!0),this.$refs.form.validate()){var t=this.admin,e=new FormData;for(var a in t)e.append(a,t[a]);t.sections&&t.sections.forEach((function(t){e.append("sections[]",t)})),m.$emit("save",e)}else this.$store.commit("SET_LOADING",!1)},update:function(){if(this.$store.commit("SET_LOADING",!0),this.$refs.form.validate()){var t=this.admin,e=new FormData;for(var a in t)e.append(a,t[a]);t.sections&&t.sections.forEach((function(t){e.append("sections[]",t)})),m.$emit("update",e)}else this.$store.commit("SET_LOADING",!1)},goBack:function(){this.$router.go(-1)}},computed:{loading:function(){return this.$store.getters.loading},user:function(){return this.$store.getters.user},adminsTypes_url:function(){return this.$store.state.baseUrl+"adminsTypes?parent="+this.$store.state.user.email},sections_url:function(){return this.$store.state.baseUrl+"sections?parent="+this.$store.state.user.email}}},zt=Rt,Kt=(a("973a"),Object(f["a"])(zt,Ot,Tt,!1,null,null,null)),Ht=Kt.exports,Jt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"show",rawName:"v-show",value:!t.loading,expression:"!loading"}]},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:""}},[a("div",{staticClass:"text-xs-left"},[a("v-btn",{attrs:{color:"primary",dark:"",medium:"",icon:"",flat:""},on:{click:t.goBack}},[a("v-icon",[t._v("arrow_back")])],1),"new-slider"==t.$route.name?a("v-btn",{attrs:{color:"primary",dark:"",medium:"",icon:"",flat:""},on:{click:t.save}},[a("v-icon",[t._v("\n                        done\n                    ")])],1):a("v-btn",{attrs:{color:"primary",dark:"",medium:"",icon:"",flat:""},on:{click:t.update}},[a("v-icon",[t._v("\n                        done\n                    ")])],1)],1)])],1),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{"d-flex":"",xs12:"",sm12:"",md8:"",lg7:"","pa-4":""}},[a("v-layout",{attrs:{column:""}},[a("v-form",{ref:"form"},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-layout",{attrs:{column:""}},[a("v-text-field",{attrs:{label:"Title","data-vv-name":"title",outline:""},model:{value:t.slider.title,callback:function(e){t.$set(t.slider,"title",e)},expression:"slider.title"}})],1)],1)],1),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-layout",{attrs:{column:""}},[a("v-text-field",{attrs:{label:"Subtitle","data-vv-name":"subtitle",outline:""},model:{value:t.slider.subtitle,callback:function(e){t.$set(t.slider,"subtitle",e)},expression:"slider.subtitle"}})],1)],1)],1),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-layout",{attrs:{column:""}},[a("v-text-field",{attrs:{label:"External-Link","data-vv-name":"url",rules:t.rules.url,outline:""},model:{value:t.slider.url,callback:function(e){t.$set(t.slider,"url",e)},expression:"slider.url"}})],1)],1)],1),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs4:""}},[a("v-layout",{attrs:{column:""}},[a("v-checkbox",{attrs:{label:"Open new Window","data-vv-name":"blank",type:"checkbox",outline:""},model:{value:t.slider.blank,callback:function(e){t.$set(t.slider,"blank",e)},expression:"slider.blank"}})],1)],1),a("v-flex",{attrs:{xs4:""}},[a("v-layout",{attrs:{column:""}},[a("v-checkbox",{attrs:{label:"Active","data-vv-name":"active",type:"checkbox",outline:""},model:{value:t.slider.active,callback:function(e){t.$set(t.slider,"active",e)},expression:"slider.active"}})],1)],1)],1)],1)],1)],1),a("v-flex",{attrs:{"d-flex":"",xs12:"",sm12:"",md4:"",lg5:"","pa-4":""}},[a("v-layout",{attrs:{column:""}},[t.renderComponents?a("MediasManager",{ref:"medias",attrs:{label:"Medias",limit:1,existingMedia:t.slider.medias.medias?t.slider.medias.medias.thumb:[]}}):t._e()],1)],1)],1)],1)},Zt=[],Wt={components:{MediasManager:kt,SelectSimple:Pt},props:{component:String},data:function(){return{slider:{name:"",title:"",subtitle:"",active:!0,medias:[]},rules:{title:[function(t){return!!t||"Title is required"}],url:[function(t){if(t){var e=/(http(s)?:\/\/.)?(www\.)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/g;return e.test(t)||"Invalid url."}return!0}]},renderComponents:!1,totalCustomComponents:1}},created:function(){var t=this;this.$store.commit("SET_LOADING",!0),m.$on("medias-remove",(function(e){t.removeMedia(e)})),m.$once("elem-fetched",(function(e){t.slider=e.slider,t.$store.commit("SET_LOADING",!1),t.renderComponents=!0})),m.$on("projects-select-changed",(function(e){t.slider.projects_id=e})),this.$route.params.id&&m.$emit("get",this.$route.params.id),"new-slider"==this.$route.name&&(this.$store.commit("SET_LOADING",!1),this.renderComponents=!0)},methods:{save:function(){if(this.$store.commit("SET_LOADING",!0),this.$refs.form.validate()){var t=this.slider,e=new FormData;for(var a in t)e.append(a,t[a]);this.$refs.medias.medias.length&&this.$refs.medias.medias.forEach((function(t){e.append("medias[]",t)})),m.$emit("save",e)}else this.$store.commit("SET_LOADING",!1)},update:function(){if(this.$store.commit("SET_LOADING",!0),this.$refs.form.validate()){var t=this.slider,e=new FormData;for(var a in t)e.append(a,t[a]);this.$refs.medias.medias.length&&this.$refs.medias.medias.forEach((function(t){e.append("medias[]",t)})),m.$emit("update",e)}else this.$store.commit("SET_LOADING",!1)},removeMedia:function(t){var e=new FormData;e.append("media_id",t.id),m.$emit("removeMedia",e)},goBack:function(){this.$router.go(-1)}},computed:{loading:function(){return this.$store.getters.loading},projectsUrl:function(){return this.$store.getters.baseUrl+"projects"}}},Vt=Wt,Yt=Object(f["a"])(Vt,Jt,Zt,!1,null,null,null),Qt=Yt.exports,Xt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"show",rawName:"v-show",value:!t.loading,expression:"!loading"}]},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:""}},[a("div",{staticClass:"text-xs-left"},[a("v-btn",{attrs:{color:"primary",dark:"",medium:"",icon:"",flat:""},on:{click:t.goBack}},[a("v-icon",[t._v("arrow_back")])],1),"new-client"==t.$route.name?a("v-btn",{attrs:{color:"primary",dark:"",medium:"",icon:"",flat:""},on:{click:t.save}},[a("v-icon",[t._v("\n                        done\n                    ")])],1):a("v-btn",{attrs:{color:"primary",dark:"",medium:"",icon:"",flat:""},on:{click:t.update}},[a("v-icon",[t._v("\n                        done\n                    ")])],1)],1)])],1),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{"d-flex":"",xs12:"",sm12:"",md8:"",lg7:"","pa-4":""}},[a("v-layout",{attrs:{column:""}},[a("v-form",{ref:"form"},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-layout",{attrs:{column:""}},[a("v-text-field",{attrs:{label:"Name","data-vv-name":"name",outline:"",rules:t.rules.name},model:{value:t.client.name,callback:function(e){t.$set(t.client,"name",e)},expression:"client.name"}})],1)],1)],1),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-layout",{attrs:{column:""}},[a("v-checkbox",{attrs:{label:"Active","data-vv-name":"active",type:"checkbox",outline:""},model:{value:t.client.active,callback:function(e){t.$set(t.client,"active",e)},expression:"client.active"}})],1)],1)],1)],1)],1)],1),a("v-flex",{attrs:{"d-flex":"",xs12:"",sm12:"",md4:"",lg5:"","pa-4":""}},[a("v-layout",{attrs:{column:""}},[t.renderComponents?a("MediasManager",{ref:"medias",attrs:{label:"Media",limit:1,existingMedia:t.client.medias.medias?t.client.medias.medias.thumb:[]}}):t._e()],1)],1)],1)],1)},te=[],ee={components:{MediasManager:kt},props:{component:String},data:function(){return{client:{name:"",active:!0,medias:[]},rules:{name:[function(t){return!!t||"Name is required"}]},renderComponents:!1}},created:function(){var t=this;this.$store.commit("SET_LOADING",!0),m.$on("medias-remove",(function(e){t.removeMedia(e)})),m.$once("elem-fetched",(function(e){t.client=e.client,t.renderComponents=!0,t.$store.commit("SET_LOADING",!1)})),this.$route.params.id&&m.$emit("get",this.$route.params.id),"new-client"==this.$route.name&&(this.renderComponents=!0,this.$store.commit("SET_LOADING",!1))},methods:{save:function(){if(this.$store.commit("SET_LOADING",!0),this.$refs.form.validate()){var t=this.client,e=new FormData;for(var a in t)e.append(a,t[a]);this.$refs.medias.medias.length&&this.$refs.medias.medias.forEach((function(t){e.append("medias[]",t)})),m.$emit("save",e)}else this.$store.commit("SET_LOADING",!1)},update:function(){if(this.$store.commit("SET_LOADING",!0),this.$refs.form.validate()){var t=this.client,e=new FormData;for(var a in t)e.append(a,t[a]);this.$refs.medias.medias.length&&this.$refs.medias.medias.forEach((function(t){e.append("medias[]",t)})),m.$emit("update",e)}else this.$store.commit("SET_LOADING",!1)},removeMedia:function(t){var e=new FormData;e.append("media_id",t.id),m.$emit("removeMedia",e)},goBack:function(){this.$router.go(-1)}},computed:{loading:function(){return this.$store.getters.loading},projectsUrl:function(){return this.$store.getters.baseUrl+"projects"}}},ae=ee,ie=Object(f["a"])(ae,Xt,te,!1,null,null,null),se=ie.exports,ne=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"show",rawName:"v-show",value:!t.loading,expression:"!loading"}]},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:""}},[a("div",{staticClass:"text-xs-left"},[a("v-btn",{attrs:{color:"primary",dark:"",medium:"",icon:"",flat:""},on:{click:t.goBack}},[a("v-icon",[t._v("arrow_back")])],1),"new-section"==t.$route.name?a("v-btn",{attrs:{color:"primary",dark:"",medium:"",icon:"",flat:""},on:{click:t.save}},[a("v-icon",[t._v("\n                        done\n                    ")])],1):a("v-btn",{attrs:{color:"primary",dark:"",medium:"",icon:"",flat:""},on:{click:t.update}},[a("v-icon",[t._v("\n                        done\n                    ")])],1)],1)])],1),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{"d-flex":"",xs12:"",sm12:"",md8:"",lg7:"","pa-4":""}},[a("v-layout",{attrs:{column:""}},[a("v-form",{ref:"form"},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-layout",{attrs:{column:""}},[a("v-text-field",{attrs:{label:"Name","data-vv-name":"name",outline:"",rules:t.rules.name},model:{value:t.section.name,callback:function(e){t.$set(t.section,"name",e)},expression:"section.name"}})],1)],1)],1),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs4:""}},[a("v-layout",{attrs:{column:""}},[a("v-checkbox",{attrs:{label:"Active","data-vv-name":"active",type:"checkbox",outline:"",required:""},model:{value:t.section.active,callback:function(e){t.$set(t.section,"active",e)},expression:"section.active"}})],1)],1)],1)],1)],1)],1)],1)],1)},re=[],oe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-layout",{attrs:{row:""}},[a("v-flex",{staticClass:"text-xs-left",attrs:{xs12:""}},[a("h2",[t._v(t._s(t.label))])])],1),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:""}},[t.limit?a("div",[a("div",{staticClass:"text-sm-left"},[t.totalMedias<t.limit?a("v-btn",{attrs:{flat:"",icon:""},on:{click:t.triggerInputFiles}},[a("v-icon",[t._v("\n                            backup\n                        ")])],1):t._e(),a("input",{ref:"file",staticStyle:{display:"none"},attrs:{type:"file",multiple:"multiple",id:"medias"},on:{change:t.uploadFieldChange}})],1)]):a("div",[a("div",{staticClass:"text-sm-left"},[a("v-btn",{attrs:{flat:"",icon:""},on:{click:t.triggerInputFiles}},[a("v-icon",[t._v("\n                            backup\n                        ")])],1),a("input",{ref:"file",staticStyle:{display:"none"},attrs:{type:"file",multiple:"multiple",id:"medias"},on:{change:t.uploadFieldChange}})],1)])])],1),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:""}},[t._l(this.existingMedia,(function(e,i){return a("div",{key:i},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:""}},[a("div",{staticClass:"text-sm-left"},[a("img",{staticClass:"img-thumbnail",attrs:{src:e.full_url,alt:e.filename+" ("+Number((e.size/1024/1024).toFixed(1))+"MB)"}}),a("strong",[a("span",{staticClass:"label label-primary"},[t._v(t._s(t._f("trunc")(e.filename,25,"...")))])]),a("span",{staticStyle:{cursor:"pointer"},on:{click:function(a){return t.removeExistingAttachment(e)}}},[a("v-btn",{attrs:{flat:"",icon:"",color:"black"}},[a("v-icon",[t._v("remove")])],1)],1)])])],1)],1)})),t._l(t.medias,(function(e,i){return a("div",{key:i},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:""}},[a("div",{staticClass:"text-sm-left"},[a("img",{staticClass:"img-thumbnail",attrs:{src:e.url,alt:e.name+" ("+Number((e.size/1024/1024).toFixed(1))+"MB)"}}),a("strong",[a("span",{staticClass:"label label-primary"},[t._v(t._s(t._f("trunc")(e.name,25,"...")))])]),a("span",{staticStyle:{cursor:"pointer"},on:{click:function(a){return t.removeAttachment(e)}}},[a("v-btn",{attrs:{flat:"",icon:"",color:"black"}},[a("v-icon",[t._v("remove")])],1)],1)])])],1)],1)}))],2)],1)],1)},le=[],ce={props:{existingMedia:Array,label:String,limit:Number},data:function(){return{medias:[],totalMedias:0}},methods:{uploadFieldChange:function(t){var e=t.target.files||t.dataTransfer.files;if(e.length){for(var a=e.length-1;a>=0;a--)e[a].url=URL.createObjectURL(e[a]),this.medias.push(e[a]);document.getElementById("medias").value=[],m.$emit("medias-change",this.medias)}},removeAttachment:function(t){m.$emit("medias-change",this.medias),this.totalMedias=this.existingMedia.length+this.medias.length,this.medias.splice(this.medias.indexOf(t),1)},triggerInputFiles:function(){this.$refs.file.click()},removeExistingAttachment:function(t){m.$emit("medias-remove",t),this.totalMedias=this.existingMedia.length+this.medias.length,this.existingMedia.splice(this.existingMedia.indexOf(t),1)}},watch:{existingMedia:function(){this.totalMedias=this.existingMedia.length+this.medias.length},medias:function(){this.totalMedias=this.existingMedia.length+this.medias.length}}},de=ce,ue=(a("9d2f"),Object(f["a"])(de,oe,le,!1,null,null,null)),me=ue.exports,ve={components:{MediasManager:me},props:{component:String},data:function(){return{section:{name:"",active:!0},rules:{name:[function(t){return!!t||"Name is required"}]}}},created:function(){var t=this;this.$store.commit("SET_LOADING",!0),m.$once("medias-change",(function(e){t.section.medias=e})),m.$once("medias-remove",(function(e){t.removeMedia(e)})),m.$once("elem-fetched",(function(e){t.section=e.section,t.$store.commit("SET_LOADING",!1)})),this.$route.params.id&&m.$emit("get",this.$route.params.id),"new-section"==this.$route.name&&this.$store.commit("SET_LOADING",!1)},methods:{save:function(){if(this.$store.commit("SET_LOADING",!0),this.$refs.form.validate()){var t=this.section,e=new FormData;for(var a in t)e.append(a,t[a]);t.medias&&t.medias.forEach((function(t){e.append("medias[]",t)})),m.$emit("save",e)}else this.$store.commit("SET_LOADING",!1)},update:function(){if(this.$store.commit("SET_LOADING",!0),this.$refs.form.validate()){var t=this.section,e=new FormData;for(var a in t)e.append(a,t[a]);t.medias&&t.medias.forEach((function(t){e.append("medias[]",t)})),m.$emit("update",e)}else this.$store.commit("SET_LOADING",!1)},removeMedia:function(t){var e=new FormData;e.append("media_id",t.id),m.$emit("removeMedia",e)},goBack:function(){this.$router.go(-1)}},computed:{loading:function(){return this.$store.getters.loading}}},pe=ve,fe=Object(f["a"])(pe,ne,re,!1,null,null,null),he=fe.exports,ge=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"show",rawName:"v-show",value:!t.loading,expression:"!loading"}]},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:""}},[a("div",{staticClass:"text-xs-left"},[a("v-btn",{attrs:{color:"primary",dark:"",medium:"",icon:"",flat:""},on:{click:t.goBack}},[a("v-icon",[t._v("arrow_back")])],1),"new-price"==t.$route.name?a("v-btn",{attrs:{color:"primary",dark:"",medium:"",icon:"",flat:""},on:{click:t.save}},[a("v-icon",[t._v("\n                        done\n                    ")])],1):a("v-btn",{attrs:{color:"primary",dark:"",medium:"",icon:"",flat:""},on:{click:t.update}},[a("v-icon",[t._v("\n                        done\n                    ")])],1)],1)])],1),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{"d-flex":"",xs12:"",sm12:"",md8:"",lg7:"","pa-4":""}},[a("v-layout",{attrs:{column:""}},[a("v-form",{ref:"form"},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-layout",{attrs:{column:""}},[a("v-text-field",{attrs:{label:"Title","data-vv-name":"title",outline:"",rules:t.rules.title},model:{value:t.price.title,callback:function(e){t.$set(t.price,"title",e)},expression:"price.title"}})],1)],1)],1),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-layout",{attrs:{column:""}},[a("v-text-field",{attrs:{label:"Subtitle","data-vv-name":"subtitle",outline:"",rules:t.rules.subtitle},model:{value:t.price.subtitle,callback:function(e){t.$set(t.price,"subtitle",e)},expression:"price.subtitle"}})],1)],1)],1),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-layout",{attrs:{column:""}},[a("v-textarea",{attrs:{label:"Details","data-vv-name":"details",outline:"",rules:t.rules.details},model:{value:t.price.details,callback:function(e){t.$set(t.price,"details",e)},expression:"price.details"}})],1)],1)],1),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-layout",{attrs:{column:""}},[a("v-textarea",{attrs:{label:"Description","data-vv-name":"description",outline:"",rules:t.rules.description},model:{value:t.price.description,callback:function(e){t.$set(t.price,"description",e)},expression:"price.description"}})],1)],1)],1),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-layout",{attrs:{column:""}},[a("v-text-field",{attrs:{label:"Price","data-vv-name":"price",outline:"",rules:t.rules.price},model:{value:t.price.price,callback:function(e){t.$set(t.price,"price",e)},expression:"price.price"}})],1)],1)],1),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs4:""}},[a("v-layout",{attrs:{column:""}},[a("v-checkbox",{attrs:{label:"Active","data-vv-name":"active",type:"checkbox",outline:""},model:{value:t.price.active,callback:function(e){t.$set(t.price,"active",e)},expression:"price.active"}})],1)],1),a("v-flex",{attrs:{xs4:""}},[a("v-layout",{attrs:{column:""}},[a("v-checkbox",{attrs:{label:"+ Iva","data-vv-name":"iva",type:"checkbox",outline:""},model:{value:t.price.iva,callback:function(e){t.$set(t.price,"iva",e)},expression:"price.iva"}})],1)],1)],1)],1)],1)],1),a("v-flex",{attrs:{"d-flex":"",xs12:"",sm12:"",md4:"",lg5:"","pa-4":""}},[a("v-layout",{attrs:{column:""}})],1)],1)],1)},be=[],xe={props:{component:String},data:function(){return{price:{title:"",subtitle:"",details:"",description:"",price:"",active:!0,iva:!1},rules:{title:[function(t){return!!t||"Title is required"},function(t){return t&&t.length<=15||"Name must be less than 15"}],subtitle:[function(t){return!!t||"Subtitle is required"},function(t){return t&&t.length<=30||"Name must be less than 30"}],details:[function(t){return!!t||"Details is required"},function(t){return t&&t.length<=120||"Name must be less than 120"}],description:[function(t){return!!t||"Description is required"},function(t){return t&&t.length<=60||"Name must be less than 60"}],price:[function(t){return!!t||"Price is required"}]}}},created:function(){var t=this;this.$store.commit("SET_LOADING",!0),m.$once("elem-fetched",(function(e){t.price=e.price,t.$store.commit("SET_LOADING",!1)})),this.$route.params.id&&m.$emit("get",this.$route.params.id),"new-price"==this.$route.name&&this.$store.commit("SET_LOADING",!1)},methods:{save:function(){if(this.$store.commit("SET_LOADING",!0),this.$refs.form.validate()){var t=this.price,e=new FormData;for(var a in t)e.append(a,t[a]);m.$emit("save",e)}else this.$store.commit("SET_LOADING",!1)},update:function(){if(this.$store.commit("SET_LOADING",!0),this.$refs.form.validate()){var t=this.price,e=new FormData;for(var a in t)e.append(a,t[a]);m.$emit("update",e)}else this.$store.commit("SET_LOADING",!1)},goBack:function(){this.$router.go(-1)}},computed:{loading:function(){return this.$store.getters.loading}}},_e=xe,$e=Object(f["a"])(_e,ge,be,!1,null,null,null),ye=$e.exports,we={components:{FormProjects:Ct,FormAdministradores:Ht,FormSliders:Qt,FormClients:se,FormSections:he,FormPrices:ye},props:{component:String},data:function(){return{section:this.$router.currentRoute.meta.section}},created:function(){var t=this;m.$off("save").$once("save",(function(e){t.save(e)})),m.$off("update").$once("update",(function(e){t.update(e)})),m.$off("removeMedia").$on("removeMedia",(function(e){t.removeMedia(e)})),m.$off("get").$once("get",(function(e){t.get(e)}))},methods:{save:function(t){var e=this.url+"save";this.send(t,e,"save")},update:function(t){var e=this.url+"update/"+t.get("id");this.send(t,e,"update")},removeMedia:function(t){var e=this.url+"remove-media";this.send(t,e,"removeMedia")},get:function(t){var e=this.url+"get/"+t;this.send(null,e,"get")},errorToast:function(){this.$toasted.show("An error was ocurred.",{theme:"bubble",type:"error",position:"top-right",duration:3e3})},send:function(t,e,a){var i=this;switch(a){case"get":this.$http.get(e,t,{headers:{"Content-Type":"multipart/form-data"}}).then((function(t){t.data.success?m.$emit("elem-fetched",t.data.data):i.errorToast()})).catch((function(t){i.errorToast(),i.$router.push("/"+i.section)}));break;case"save":this.$http.post(e,t,{headers:{"Content-Type":"multipart/form-data"}}).then((function(t){t.data.success||i.errorToast(),i.$router.go(-1)})).catch((function(t){i.errorToast(),i.$router.go(-1)}));break;case"update":this.$http.post(e,t,{headers:{"Content-Type":"multipart/form-data"}}).then((function(t){t.data.success||i.errorToast(),i.$router.go(-1)})).catch((function(t){i.errorToast(),i.$router.go(-1)}));break;case"removeMedia":this.$http.post(e,t,{headers:{"Content-Type":"multipart/form-data"}}).then((function(t){t.data.success||i.errorToast()})).catch((function(t){i.errorToast()}));break;default:break}}},computed:{url:function(){return this.$store.state.baseUrl+this.$router.currentRoute.meta.section+"/"}}},ke=we,Se=Object(f["a"])(ke,ft,ht,!1,null,null,null),Ae=Se.exports,Ee={components:{Form:Ae}},Ce=Ee,Oe=Object(f["a"])(Ce,vt,pt,!1,null,null,null),Te=Oe.exports,Ne=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"show",rawName:"v-show",value:!t.loading,expression:"!loading"}]},[a("Actionbar",{attrs:{component:t.section}}),a("v-layout",{attrs:{row:"","pa-2":""}},[a("v-flex",[a("Table",{attrs:{headers:t.headers}})],1)],1)],1)},Ie=[],Me={components:{Actionbar:et,Table:lt},data:function(){return{headers:[{text:"",align:"middle",value:"drag_check",sortable:!1},{text:"Id",align:"left",value:"id",class:"clickable"},{text:"",align:"middle",value:"media",sortable:!1},{text:"Name",align:"middle",value:"name",class:"clickable"},{text:"Description",align:"middle",value:"description",class:"clickable"},{text:"Activo",align:"middle",value:"active",class:"clickable"},{text:"Highlighted",align:"middle",value:"highlighted",class:"clickable"},{text:"",align:"middle",value:"actions",sortable:!1,width:"5%"}],section:this.$route.meta.section}},computed:{loading:function(){return this.$store.getters.loading}}},De=Me,Le=Object(f["a"])(De,Ne,Ie,!1,null,null,null),je=Le.exports,qe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Form",{attrs:{component:"FormProjects"}})],1)},Ge=[],Fe={components:{Form:Ae}},Be=Fe,Ue=Object(f["a"])(Be,qe,Ge,!1,null,null,null),Pe=Ue.exports,Re=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"show",rawName:"v-show",value:!t.loading,expression:"!loading"}]},[a("Actionbar",{attrs:{component:t.section}}),a("v-layout",{attrs:{row:"","pa-2":""}},[a("v-flex",[a("Table",{attrs:{headers:t.headers}})],1)],1)],1)},ze=[],Ke={components:{Actionbar:et,Table:lt},data:function(){return{headers:[{text:"",align:"middle",value:"drag_check",sortable:!1},{text:"Id",align:"left",value:"id"},{text:"",align:"middle",value:"media",sortable:!1},{text:"Title",align:"middle",value:"title"},{text:"Subtitle",align:"middle",value:"subtitle"},{text:"Activo",align:"middle",value:"active"},{text:"",align:"middle",value:"actions",sortable:!1,width:"5%"}],section:this.$route.meta.section}},created:function(){},computed:{loading:function(){return this.$store.getters.loading}}},He=Ke,Je=Object(f["a"])(He,Re,ze,!1,null,null,null),Ze=Je.exports,We=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Form",{attrs:{component:"FormSliders"}})},Ve=[],Ye={components:{Form:Ae}},Qe=Ye,Xe=Object(f["a"])(Qe,We,Ve,!1,null,null,null),ta=Xe.exports,ea=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"show",rawName:"v-show",value:!t.loading,expression:"!loading"}]},[a("Actionbar",{attrs:{component:t.section}}),a("v-layout",{attrs:{row:"","pa-2":""}},[a("v-flex",[a("Table",{attrs:{headers:t.headers}})],1)],1)],1)},aa=[],ia={components:{Actionbar:et,Table:lt},data:function(){return{headers:[{text:"",align:"middle",value:"drag_check",sortable:!1},{text:"Id",align:"left",value:"id",class:"clickable"},{text:"",align:"middle",value:"media",sortable:!1},{text:"Name",align:"middle",value:"name",class:"clickable"},{text:"Activo",align:"middle",value:"active",class:"clickable"},{text:"",align:"middle",value:"actions",sortable:!1,width:"5%"}],section:this.$route.meta.section}},computed:{loading:function(){return this.$store.getters.loading}}},sa=ia,na=Object(f["a"])(sa,ea,aa,!1,null,null,null),ra=na.exports,oa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Form",{attrs:{component:"FormClients"}})],1)},la=[],ca={components:{Form:Ae}},da=ca,ua=Object(f["a"])(da,oa,la,!1,null,null,null),ma=ua.exports,va=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"show",rawName:"v-show",value:!t.loading,expression:"!loading"}]},[a("Actionbar",{attrs:{component:t.section}}),a("v-layout",{attrs:{row:"","pa-2":""}},[a("v-flex",[a("Table",{attrs:{headers:t.headers}})],1)],1)],1)},pa=[],fa={components:{Actionbar:et,Table:lt},data:function(){return{headers:[{text:"",align:"middle",value:"drag_check",sortable:!1},{text:"Id",align:"left",value:"id",class:"clickable"},{text:"Title",align:"middle",value:"title",class:"clickable"},{text:"Subtitle",align:"middle",value:"subtitle",class:"clickable"},{text:"Price",align:"middle",value:"price",class:"clickable"},{text:"Activo",align:"middle",value:"active",class:"clickable"},{text:"",align:"middle",value:"actions",sortable:!1,width:"5%"}],section:this.$route.meta.section}},computed:{loading:function(){return this.$store.getters.loading}}},ha=fa,ga=Object(f["a"])(ha,va,pa,!1,null,null,null),ba=ga.exports,xa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Form",{attrs:{component:"FormPrices"}})],1)},_a=[],$a={components:{Form:Ae}},ya=$a,wa=Object(f["a"])(ya,xa,_a,!1,null,null,null),ka=wa.exports,Sa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"show",rawName:"v-show",value:!t.loading,expression:"!loading"}]},[a("Actionbar",{attrs:{component:t.section}}),a("v-layout",{attrs:{row:"","pa-2":""}},[a("v-flex",[a("Table",{attrs:{headers:t.headers}})],1)],1)],1)},Aa=[],Ea={components:{Actionbar:et,Table:lt},data:function(){return{headers:[{text:"",align:"middle",value:"drag_check",sortable:!1},{text:"Id",align:"left",value:"id",class:"clickable"},{text:"Name",align:"middle",value:"name",class:"clickable"},{text:"Activo",align:"middle",value:"active",class:"clickable"},{text:"",align:"middle",value:"actions",sortable:!1,width:"5%"}],section:this.$route.meta.section}},computed:{loading:function(){return this.$store.getters.loading}}},Ca=Ea,Oa=Object(f["a"])(Ca,Sa,Aa,!1,null,null,null),Ta=Oa.exports,Na=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Form",{attrs:{component:"FormSections"}})],1)},Ia=[],Ma={components:{Form:Ae}},Da=Ma,La=Object(f["a"])(Da,Na,Ia,!1,null,null,null),ja=La.exports;i["default"].use(O["a"]);var qa=new O["a"]({mode:"history",routes:[{path:"/login",name:"login",component:L,meta:{isLogin:!0,title:"Login",section:"login"}},{path:"/dashboard",name:"dashboard",component:J,meta:{requiresAuth:!0,title:"Dashboard",section:"dashboard"}},{path:"/admins",name:"admins",component:mt,meta:{requiresAuth:!0,title:"Administradores",section:"admins"}},{path:"/admins/new",name:"new-admin",component:Te,meta:{requiresAuth:!0,title:"Nuevo Administrador",section:"admins"}},{path:"/admins/edit/:id",name:"edit-admin",component:Te,meta:{requiresAuth:!0,title:"Editar Administrador",section:"admins"}},{path:"/projects",name:"projects",component:je,meta:{requiresAuth:!0,title:"Projects",section:"projects"}},{path:"/projects/new",name:"new-project",component:Pe,meta:{requiresAuth:!0,title:"New Project",section:"projects"}},{path:"/projects/edit/:id",name:"edit-project",component:Pe,meta:{requiresAuth:!0,title:"Edit Project",section:"projects"}},{path:"/sliders",name:"sliders",component:Ze,meta:{requiresAuth:!0,title:"Sliders",section:"sliders"}},{path:"/sliders/new",name:"new-slider",component:ta,meta:{requiresAuth:!0,title:"New slider",section:"sliders"}},{path:"/sliders/edit/:id",name:"edit-slider",component:ta,meta:{requiresAuth:!0,title:"Edit slider",section:"sliders"}},{path:"/sections",name:"sections",component:Ta,meta:{requiresAuth:!0,title:"Sections",section:"sections"}},{path:"/sections/new",name:"new-section",component:ja,meta:{requiresAuth:!0,title:"New Section",section:"sections"}},{path:"/sections/edit/:id",name:"edit-section",component:ja,meta:{requiresAuth:!0,title:"Edit Section",section:"sections"}},{path:"/clients",name:"clients",component:ra,meta:{requiresAuth:!0,title:"Clients",section:"clients"}},{path:"/clients/new",name:"new-client",component:ma,meta:{requiresAuth:!0,title:"New Client",section:"clients"}},{path:"/clients/edit/:id",name:"edit-client",component:ma,meta:{requiresAuth:!0,title:"Edit client",section:"clients"}},{path:"/prices",name:"prices",component:ba,meta:{requiresAuth:!0,title:"Prices",section:"prices"}},{path:"/prices/new",name:"new-price",component:ka,meta:{requiresAuth:!0,title:"New Price",section:"prices"}},{path:"/prices/edit/:id",name:"edit-price",component:ka,meta:{requiresAuth:!0,title:"Edit price",section:"prices"}},{path:"/*",redirect:"/dashboard"}]});qa.beforeEach((function(t,e,a){a()}));var Ga=qa,Fa=a("2f62");i["default"].use(Fa["a"]);var Ba=new Fa["a"].Store({state:{baseUrl:"https://api.tresdear.es/api/admin/",appUrl:"https://admin.tresdear.es/",storageUrl:"https://api.tresdear.es/storage/",token:localStorage.getItem("token")||"",user:localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")):{},loading:!1},mutations:{AUTH_SUCCESS:function(t,e){t.token=e.token,t.user=e.user},LOGOUT:function(t){t.token="",t.user={}},SET_LOADING:function(t,e){t.loading=e}},actions:{login:function(t,e){var a=this,i=t.commit;return new Promise((function(t,s){n()({url:a.state.baseUrl+"login",data:e,method:"POST"}).then((function(e){if(e.data.success){var a=e.data.data.token,s=e.data.data.admin;localStorage.setItem("token",a),localStorage.setItem("user",JSON.stringify(s)),n.a.defaults.headers.common["Authorization"]=a,i("AUTH_SUCCESS",{token:a,user:s}),t(e)}else t(e)})).catch((function(t){localStorage.clear(),s(t)}))}))},logout:function(t){var e=t.commit;return new Promise((function(t,a){e("LOGOUT"),localStorage.clear(),delete n.a.defaults.headers.common["Authorization"],t()}))}},getters:{loading:function(t){return t.loading},baseUrl:function(t){return t.baseUrl},storageUrl:function(t){return t.storageUrl},appUrl:function(t){return t.appUrl},user:function(t){return t.user}}}),Ua=a("953d"),Pa=a.n(Ua),Ra=a("a65d"),za=a.n(Ra);a("bf40"),a("d1e7"),a("a753"),a("8096"),a("14e1");for(var Ka in _)i["default"].filter(Ka,_[Ka]);i["default"].use(za.a),i["default"].use(Pa.a),i["default"].use(o.a,{theme:{primary:"#2c3e50"}}),i["default"].prototype.$http=n.a,i["default"].config.productionTip=!1;var Ha=localStorage.getItem("token");Ha&&(i["default"].prototype.$http.defaults.headers.common["Authorization"]=Ha),new i["default"]({router:Ga,store:Ba,render:function(t){return t(C)}}).$mount("#app")},"5dfc":function(t,e,a){"use strict";var i=a("3b42"),s=a.n(i);s.a},"69de":function(t,e,a){"use strict";var i=a("7a7c"),s=a.n(i);s.a},"6a40":function(t,e,a){"use strict";var i=a("b3a1"),s=a.n(i);s.a},"7a7c":function(t,e,a){},"8c0c":function(t,e,a){},"8e64":function(t,e,a){},"973a":function(t,e,a){"use strict";var i=a("8c0c"),s=a.n(i);s.a},"9d2f":function(t,e,a){"use strict";var i=a("0508"),s=a.n(i);s.a},"9e38":function(t,e,a){},a8da:function(t,e,a){},ac2d:function(t,e,a){},b3a1:function(t,e,a){},c4c6:function(t,e,a){},c5b7:function(t,e,a){"use strict";var i=a("9e38"),s=a.n(i);s.a},f3e2:function(t,e,a){"use strict";var i=a("a8da"),s=a.n(i);s.a},fad1:function(t,e,a){}});
//# sourceMappingURL=app.76770684.js.map